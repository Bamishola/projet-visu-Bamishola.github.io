<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AgriShift Atlas</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>
</head>
<body>
  <header class="header">
    <h1>AgriShift Atlas</h1>
    <p>Explore l’évolution mondiale des cultures (FAOSTAT) : production, surfaces récoltées et rendements.</p>
  </header>

  <main class="grid">
    <section class="panel">
      <h2>Contrôles</h2>

      <label class="field">
        <span>Culture</span>
        <select id="itemSelect"></select>
      </label>

      <label class="field">
        <span>Indicateur</span>
        <select id="elementSelect">
          <option value="Production">Production</option>
          <option value="Area harvested">Area harvested</option>
          <option value="Yield">Yield</option>
        </select>
      </label>

      <label class="field">
        <span>Année: <strong id="yearLabel"></strong></span>
        <input id="yearSlider" type="range" min="1961" max="2024" step="1" value="2024" />
      </label>

      <div class="row">
        <button id="playBtn">▶ Play</button>
        <button id="resetBtn">Reset</button>
      </div>

      <label class="field">
        <span>Échelle</span>
        <select id="scaleSelect">
          <option value="linear">Linear</option>
          <option value="log">Log</option>
        </select>
      </label>

      <label class="field">
        <span>Top N</span>
        <input id="topNSlider" type="range" min="10" max="30" step="1" value="15" />
        <span id="topNLabel">15</span>
      </label>

      <div class="hint">
        Astuce : clique un pays sur la carte ou dans le ranking pour afficher sa courbe.
      </div>
    </section>

    <section class="viz">
      <div class="card">
        <h2>Carte</h2>
        <svg id="map" width="760" height="460"></svg>
        <div id="tooltip" class="tooltip" style="display:none;"></div>
      </div>
    </section>

    <section class="side">
      <div class="card">
        <h2>Top pays</h2>
        <svg id="bars" width="420" height="320"></svg>
      </div>

      <div class="card">
        <h2>Détail pays</h2>
        <div class="countryTitle" id="countryTitle">Aucun pays sélectionné</div>
        <svg id="line" width="420" height="260"></svg>
      </div>
    </section>
  </main>

  <script src="main.js"></script>
</body>
</html>